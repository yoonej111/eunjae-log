# ⛓️ 체인링크

#### 1. 체인링크란?
![chainlink](img/blog/chlink.png)
체인링크는 단순한 기술이 아닌, DeFi, NFT, 게임 등 다양한 분야의 혁신을 가능하게 하는 핵심 인프라이다. 블록체인은 혁신적인 기술이지만, 현실 세계와의 직접적인 상호작용에는 한계가 존재한다. 이러한 한계를 극복하기 위해 오라클이라는 기술이 등장했고, 오라클은 블록체인 외부의 데이터를 수집하여 블록체인 내로 전달하는 역할을 수행한다.

하지만 단일 오라클 시스템은 '단일 실패 지점'이라는 심각한 문제를 야기한다. 만약 오라클이 잘못된 데이터를 제공한다면, 이를 기반으로 작동하는 모든 스마트 계약과 DApp들이 피해를 입을 수 있다. 이러한 문제를 해결하기 위해 체인링크는 탈중앙화 오라클 네트워크라는 혁신적인 솔루션을 제시했고, 체인링크는 여러 개의 오라클 노드로 구성된 네트워크를 구축하여 데이터의 신뢰성을 높이고 단일 실패 지점 문제를 해결한다.



#### 2. 체인링크는 어떻게 오라클 문제를 해결하는가?


* 탈중앙화 오라클 네트워크 구축
 
체인링크는 단일 오라클에 의존하는 대신, 신뢰성 있는 외부 데이터를 가져오기 위해서 **DON(Decentralized Oracle Networks)** 이라는 탈중앙화 된 오라클 노드 네트워크를 운영한다. 이는 블록체인 노드가 아니라 데이터를 가져오는 주체인 소규모 의사결정 기구, DON Commitee 이다. 각 노드가 독립적으로 데이터를 수집하고 검증하며, 합의 과정을 통해 최종 결과를 도출한다. 이를 통해 단일 오라클의 오류나 조작 가능성을 최소화하고 데이터의 신뢰성을 크게 향상시킬 수 있다.

* 다중 데이터 소스 활용
  
체인링크는 단일 데이터 소스에 의존하지 않고 여러 개의 데이터 소스로부터 정보를 수집한다. 이를 통해 데이터의 오류 가능성을 줄이고 정확성을 높일 수 있다. 또한, 데이터 소스의 신뢰성을 평가하고 품질이 낮은 데이터는 제외하도록 시스템을 설계하여 데이터 품질 관리에도 신경을 쓰고 있다.

* Reputation System 도입
  
체인링크 네트워크에서는 각 노드의 성과를 평가하고 평판 점수를 부여하는 명성 시스템을 운영한다. 정확하고 신뢰할 수 있는 데이터를 제공하는 노드는 높은 평판 점수를 얻게 되고, 이는 네트워크 내에서 더 많은 작업을 수행할 수 있는 기회로 이어진다. 반대로, 잘못된 정보를 제공하거나 네트워크 규칙을 위반하는 노드는 평판 점수가 떨어지고, 심각한 경우 네트워크에서 추방될 수 있다. 이러한 시스템은 노드들이 양질의 데이터를 제공하도록 동기를 부여하고 네트워크 전체의 데이터 신뢰성을 유지하는 데 효과적인 역할을 한다.

* 커뮤니티 참여 유도
  
체인링크는 오픈 소스 프로젝트로 운영되고 있으며, 개발자, 연구원, 기업 등 다양한 참여자들로 구성된 커뮤니티를 운영하고 있다. 이 커뮤니티는 네트워크 개선을 위한 제한을 논의하고, 새로운 기능 개발에 참여하며, 오라클 문제 해결을 위한 연구를 진행한다. 활발한 커뮤니티 참여는 체인링크 네트워크의 지속적인 성장과 발전을 위한 중요한 원동력이 되고 있다.



#### 3. [체인링크1.0] 체인링크 VRf (Verifiable Random Function)
블록체인 기술은 탈중앙화, 투명성, 보안성을 기반으로 다양한 분야에서 활용되고 있다. 하지만, 블록체인은 모든 노드가 동일한 계산을 수행해야 하는 결정론적 시스템이라는 특성 때문에 난수 생성이라는 과제에 직면하게 된다. 기존의 난수 생성 알고리즘을 사용하면, 악의적인 사용자가 미리 난수를 예축하거나 조작할 가능성이 존재한다. 체인링크는 이를 위해 블록체인 상에서 검증 가능한 무작위성을 제공하는 서비스인 Chainlink VRF를 발표했다. 

* 체인링크 VRF의 작동 방식

1) **요청:** 스마트 컨트랙트는 체인링크 VRF 서비스에 랜덤 난수를 요청한다.
2) **난수 생성:** 체인링크 오라클 네트워크는 난수 생성 알고리즘을 사용하여 난수를 생성한다.
3) **온체인 난수 및 증명:** 생성된 난수와 난수 생성 과정을 증명하는 데이터는 볼록체인에 저장된다.
4) **검증:** 모든 참여자는 블록체인에 저장된 난수와 증명 데이터를 검증할 수 있다.
5) **활용:** 검증된 난수는 스마트 컨트랙트엥서 안전하게 활용된다.



#### 4. [체인링크2.0] 체인링크 CCIP (CrossChain Interoperability Protocol)
레이어1/레이어2 블록체인이 탄생했지만, 유동성의 대부분은 파편화되어 있다. 하지만 각각의 체인에 있는 자산들을 자유롭게 전송하기는 여전히 쉽지 않다. 이를 해결하기 위해 지금까지 많은 연구들이 진행 되어왔고, 그 중 가장 주목 받은 기술은 브릿지 기술이다. 하지만 락앤민트 방식의 브릿지는 비효율적이며, 중앙화되었다는 비판을 피하기 어려웠다. 이 때 체인링크는 파편화된 블록체인들 간의 상호 운용성을 가능하게 하는 혁식적인 프로토콜인 CCIP 를 발표했다. 이는 다양한 블록체인 간에 안전하고 신뢰할 수 있는 토큰 전송과 데이터 교환을 가능하게 하는 프로토콜이다. 체인링크의 설립자 세르게이 나자로프는 CCIP를 인터넷의 TCP/IP 에 비유하는데, 초기 파편화된 인터넷 네트워크를 TCP/IP 라는 통신 프로토콜이 표준화를 했다면 CCIP 또한 파편화된 블록체인을 하나로 잇는 기술이라는 것이다.

![chainlink](img/blog/ccip.webp)

CCIP는 온체인과 오프체인 구성 요소를 모두 포함하는데 메시지 흐름은 위 이미지와 같다.

**소스체인: 여정의 시작**

소스체인은 데이터나 자산이 전송되는 출발 블록체인을 의미하며, 이곳에서 데이터는 다른 블록체인으로 이동하기 위한 준비 단계를 거친다.

1) 역할

* 사용자는 소스체인의 스마트 계약이나 DAPP을 통해 다른 블록체인으로 데이터나 자산을 요청한다.
* 요청한 데이터는 소스체인 내의 메인 컨트랙트인 라우터 컨트랙트를 통해 처리된다. 사용자는 이 라우터만을 활용하여 메시지를 전송하면 된다.
* 라우터에 전송된 메시지는 온램프에 전달되며, 온램프는 크로스체인 트랜잭션 및 메시지의 유효성을 검증한다.
* 검사가 완료되면 트랜잭션 및 메시지는 토큰 풀로 전달되며, 전송 준비를 위한 토큰을 Lock 또는 Burn 한다.   

    
2) 특징

* 다양한 블록체인 플랫폼 (예: 이더리움, 폴리곤, BNB 등) 기반으로 구현 가능하다.
* 사용자의 출발 블록체인 선택에 따라 전송 과정 및 수수료가 달라질 수 있다. 


**오프체인: 블록체인 간의 다리**

오프체인은 블록체인 네트워크 외부를 의미하며, 소스체인에서 전송된 데이터나 자산이 목적지 체인으로 이동하는 데 사용되는 중개 역할을 한다.

1) 역할

* 소스체인에서 잠금된 토큰은 **DON (Decentralized Oracle Node)**을 통해 목적지체인으로 전송된다.
* DON은 전송 과전의 보안을 위해 Multi-sig 방식 등을 사용하여 데이터 무결성을 확인하고, 이를 머클 루트 형태로 목적지 체인의 커밋 스토어에 전송한다.
* CCIP 에서는 크로스체인 보안을 위해 **RMN (Risk Management Network)** 이 존재하는데, 이는 노드들이 머클루트의 동일성을 검증하여 해당 메시지가 진실임을 확인한다.   


2) 특징

* 중앙 서버 또는 오라클 네트워크와 같은 비블록체인 시스템으로 구현한다.
* 블록체인 내 데이터 전송 속도 및 확장상 개선에 기여한다.
* 이 때, 오프체인 시스템 자체의 보안 및 신뢰성 확보가 중요하다.   


**목적지체인: 새로운 여정의 시작**

목적지체인은 데이터나 자산이 최종적으로 도착하는 블록체인을 의미하며, 여기서 데이터는 사용자 또는 DApp에 의해 활용된다.

1) 역할

* 오프체인으로부터 전송된 데이터는 목적지체인의 토큰 풀에서 새로운 토큰으로 발행된다.
* 발행된 토큰은 목적지체인의 스마트 컨트랙트 또는 DApp에서 사용 가능해진다.
* 사용자는 목적지체인에서 원하는 작업을 수행하거나, 다른 블록체인으로 다시 전송할 수 있게 된다.


2) 특징

* 이 때, 소스체인과는 다른 블록체인 플랫폼일 수도 있다.
* 목적지체인의 특성에 따라 데이터 활용 방식 및 혜택이 달라질 수 있다.
